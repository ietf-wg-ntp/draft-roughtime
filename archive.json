{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2024-10-15T00:40:55.050252+00:00",
  "repo": "ietf-wg-ntp/draft-roughtime",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 1,
      "id": "I_kwDOMvYKEc6W4xd0",
      "title": "Freeze version tag until breaking changes are needed",
      "url": "https://github.com/ietf-wg-ntp/draft-roughtime/issues/1",
      "state": "CLOSED",
      "author": "cjpatton",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "At this point it would be helpful if we stopped bumping the version tag when a purely editorial draft is cut. This allows deployed clients and servers to be forward compatible.\r\n\r\nOf course, if breaking changes are needed at some point, then it's appropriate to change the tag as well.\r\n\r\nNote that draft-ietf-ntp-roughtime-11 has version `0x8000000b`. ",
      "createdAt": "2024-09-17T15:27:52Z",
      "updatedAt": "2024-09-23T21:35:05Z",
      "closedAt": "2024-09-23T21:35:04Z",
      "comments": [
        {
          "author": "dansarie",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I just made a pull request (#4) that should address this.",
          "createdAt": "2024-09-23T20:38:50Z",
          "updatedAt": "2024-09-23T20:38:50Z"
        }
      ]
    },
    {
      "number": 2,
      "id": "I_kwDOMvYKEc6W-5mQ",
      "title": "Grease support",
      "url": "https://github.com/ietf-wg-ntp/draft-roughtime/issues/2",
      "state": "CLOSED",
      "author": "fiestajetsam",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "[From a mail from](https://mailarchive.ietf.org/arch/msg/ntp/qa0iCrhqeVEtwt28pGH32dSV0sY/) @davidv1992:\r\n\r\n> First of all, regarding the ver tag, there is no requirement for\r\nservers to ignore unknown versions in that tag. this means that\r\ntechnically it is valid behavior right now for a server receiving\r\nunknown versions to reject that packet, even if there is version\r\noverlap. This seems highly undesirable\r\n\r\n> Second, the grease section seems to contain no mechanisms for actually\r\nexercising either the ignoring of unknown tags by servers (or clients\r\nfor that matter) nor for exercising the version negotiation mechanism.\r\nGiven the experience in TLS with this, this is probably a really good\r\nidea to include.\r\n\r\n> Finally, the grease section indicates the server must send malformed\r\npackets some amount of the time to clients to exercise the rejection\r\nmechanism, but doesn't specify in which way it may malform the\r\npackets. Thus servers could do this in ways that could potentially\r\nreduce future design space. I would be much more comfortable if we\r\nspecified a specific set of things the server is allowed to do to\r\ncreate malformed packets, so that we at least have control over which\r\nparts of the future design space are excluded.\r\n\r\nThis was also discussed at [interim](https://datatracker.ietf.org/doc/minutes-interim-2024-ntp-04-202409171500/) yesterday.",
      "createdAt": "2024-09-18T08:29:29Z",
      "updatedAt": "2024-10-07T19:58:04Z",
      "closedAt": "2024-10-07T19:58:04Z",
      "comments": [
        {
          "author": "dansarie",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I just made a pull request (#4) updating the grease section, which should hopefully be a step towards resolving this. I do not fully understand what the problem described in the first paragraph is. Will ask on the mailing list.",
          "createdAt": "2024-09-23T20:38:24Z",
          "updatedAt": "2024-09-23T20:38:24Z"
        },
        {
          "author": "dansarie",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I just made another pull request (#5) clarifying the use of the VER tag in requests, to resolve the problem described in the first paragraph.",
          "createdAt": "2024-10-07T19:22:25Z",
          "updatedAt": "2024-10-07T19:22:25Z"
        },
        {
          "author": "wbl",
          "authorAssociation": "COLLABORATOR",
          "body": "I think we can close this",
          "createdAt": "2024-10-07T19:58:04Z",
          "updatedAt": "2024-10-07T19:58:04Z"
        }
      ]
    },
    {
      "number": 3,
      "id": "I_kwDOMvYKEc6W_SIe",
      "title": "Simplification of server response",
      "url": "https://github.com/ietf-wg-ntp/draft-roughtime/issues/3",
      "state": "CLOSED",
      "author": "fiestajetsam",
      "authorAssociation": "NONE",
      "assignees": [],
      "labels": [],
      "body": "Originally Roughtime just sent over one, fixed cert and at some point switched to having a long lived, and an delegated cert. The current structure of server response is a few layers deep, and I'd propose a flattening out of it. If we represent it as something JSON-like, it should look as of -11 like:\r\n\r\n```\r\n{\r\n  VER: uint32,\r\n  PATH: Path,\r\n  INDX: uint32,\r\n  CERT: {\r\n    SIG: ed25519ctx signature,\r\n    DELE: {\r\n      MINT: Timestamp,\r\n      MAXT: Timestamp,\r\n      PUBK: ed25519 public key,\r\n    }\r\n  },\r\n  SIG: edd25519ctx signature,\r\n  SREP: {\r\n    ROOT: Root,\r\n    MIDP: Timestamp,\r\n    RADI: uint32\r\n  }\r\n}\r\n```\r\n\r\nWhat I propose is a slight restructure, flattening out:\r\n```\r\n{\r\n  VER: uint32,\r\n  PATH: Path,\r\n  INDX: uint32,\r\n  CSIG: ed25519ctx signature,\r\n  CERT: {\r\n    MINT: Timestamp,\r\n    MAXT: Timestamp,\r\n    PUBK: ed25519 public key\r\n  },\r\n  TSIG: ed25519ctx signature,\r\n  SREP: {\r\n    ROOT: Root,\r\n    MIDP: Timestamp,\r\n    RADI: uint32\r\n  }\r\n}\r\n```\r\nThere's a few reasons for this:\r\n* By having the time and cert signatures with distinct tags, implementers have a clearer delineation of what the tag represents, not based on it's placement in the structure\r\n* Removes a layer of nesting, which is a _tiny_ payload size improvement\r\n* Existing implementations could support this and old without exclusively depending on accurate version reporting - by checking for CSIG (and DELE), validation of CERT/DELE could be handled appropriately.",
      "createdAt": "2024-09-18T09:16:23Z",
      "updatedAt": "2024-10-07T20:12:02Z",
      "closedAt": "2024-10-07T20:12:02Z",
      "comments": [
        {
          "author": "dansarie",
          "authorAssociation": "CONTRIBUTOR",
          "body": "I'm happy with the way it currently is. If this is implemented, it should be detected through version reporting - anything else just adds complexity and weirdness.",
          "createdAt": "2024-09-23T20:43:24Z",
          "updatedAt": "2024-09-23T20:43:24Z"
        },
        {
          "author": "wbl",
          "authorAssociation": "COLLABORATOR",
          "body": "I'm going to stick with as is. It's nice to have to signature with the delegation, and I don't think it saves a lot of implementation complexity",
          "createdAt": "2024-10-07T19:59:36Z",
          "updatedAt": "2024-10-07T19:59:36Z"
        }
      ]
    },
    {
      "number": 6,
      "id": "I_kwDOMvYKEc6Zl71r",
      "title": "Timescales finally",
      "url": "https://github.com/ietf-wg-ntp/draft-roughtime/issues/6",
      "state": "OPEN",
      "author": "wbl",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Do we need to add some more text to clarify what's there?",
      "createdAt": "2024-10-09T20:10:19Z",
      "updatedAt": "2024-10-09T20:10:19Z",
      "closedAt": null,
      "comments": []
    }
  ],
  "pulls": [
    {
      "number": 4,
      "id": "PR_kwDOMvYKEc58bB48",
      "title": "Copy-editing and fix of multiple issues",
      "url": "https://github.com/ietf-wg-ntp/draft-roughtime/pull/4",
      "state": "MERGED",
      "author": "dansarie",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "This pull request should address most of Martin and Kristof's comments. It also adds and clarifies the text in a number of places and removes the definition of the now-unused int32 type. The acknowledgments section is also updated.\r\n\r\nThe version tag is frozen as requested in issue #1.\r\n\r\nThe description of grease is improved as requested in issue #2.",
      "createdAt": "2024-09-23T20:36:53Z",
      "updatedAt": "2024-09-23T21:34:52Z",
      "baseRepository": "ietf-wg-ntp/draft-roughtime",
      "baseRefName": "main",
      "baseRefOid": "937de508c03e117086d2fa2f4a07c0e865de8df6",
      "headRepository": "dansarie/draft-roughtime-ietf",
      "headRefName": "main",
      "headRefOid": "d98c561373d805bed5041b8abfc7366c43a14184",
      "closedAt": "2024-09-23T21:34:52Z",
      "mergedAt": "2024-09-23T21:34:52Z",
      "mergedBy": "wbl",
      "mergeCommit": {
        "oid": "5ddbda5211b87588d1633145eb3066271b227094"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMvYKEc6KfOYR",
          "commit": {
            "abbreviatedOid": "d98c561"
          },
          "author": "wbl",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-09-23T21:34:47Z",
          "updatedAt": "2024-09-23T21:34:47Z",
          "comments": []
        }
      ]
    },
    {
      "number": 5,
      "id": "PR_kwDOMvYKEc5927D-",
      "title": "Clarify VER in request after comments by David Venhoek.",
      "url": "https://github.com/ietf-wg-ntp/draft-roughtime/pull/5",
      "state": "MERGED",
      "author": "dansarie",
      "authorAssociation": "CONTRIBUTOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-10-07T19:21:01Z",
      "updatedAt": "2024-10-07T19:57:40Z",
      "baseRepository": "ietf-wg-ntp/draft-roughtime",
      "baseRefName": "main",
      "baseRefOid": "5ddbda5211b87588d1633145eb3066271b227094",
      "headRepository": "dansarie/draft-roughtime-ietf",
      "headRefName": "main",
      "headRefOid": "f5f8a54329993a8f1ef59d5922862227332a0172",
      "closedAt": "2024-10-07T19:57:40Z",
      "mergedAt": "2024-10-07T19:57:40Z",
      "mergedBy": "wbl",
      "mergeCommit": {
        "oid": "988b5daf6c25cb1fadb2a2d91afe989691572855"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOMvYKEc6MPTen",
          "commit": {
            "abbreviatedOid": "f5f8a54"
          },
          "author": "wbl",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "",
          "createdAt": "2024-10-07T19:57:35Z",
          "updatedAt": "2024-10-07T19:57:35Z",
          "comments": []
        }
      ]
    },
    {
      "number": 7,
      "id": "PR_kwDOMvYKEc5-kkvz",
      "title": "Update draft-ietf-ntp-roughtime.md",
      "url": "https://github.com/ietf-wg-ntp/draft-roughtime/pull/7",
      "state": "MERGED",
      "author": "wbl",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "This fixes up some keywords",
      "createdAt": "2024-10-14T16:59:12Z",
      "updatedAt": "2024-10-14T16:59:22Z",
      "baseRepository": "ietf-wg-ntp/draft-roughtime",
      "baseRefName": "main",
      "baseRefOid": "988b5daf6c25cb1fadb2a2d91afe989691572855",
      "headRepository": "ietf-wg-ntp/draft-roughtime",
      "headRefName": "wbl-patch-1",
      "headRefOid": "e87aed208c0b0e97bb45cf34d6b2493072dc4718",
      "closedAt": "2024-10-14T16:59:22Z",
      "mergedAt": "2024-10-14T16:59:22Z",
      "mergedBy": "wbl",
      "mergeCommit": {
        "oid": "a4e0c0a473d960f9d9306472378e988583bddd7a"
      },
      "comments": [],
      "reviews": []
    }
  ]
}